from glob import glob
from os.path import basename
from os import system
import pandas as pd
import os.path

configfile: "config/config.yaml"

sampleinfo = pd.read_table(config["sampleTable"])
SAMPLES=list(sampleinfo.loc[:,"sampleid"])


if config["aligner"] in ["STAR","star"]:
    system("mkdir -p star2ndpass/tmp")


rule all:
    input:
        #"transdecoder/blastp/fastasplit.done",
        #"transdecoder/stringtie_merged.gff3",
        #"transdecoder/blastp/subfilelist.txt",
        "transdecoder/blastp/longorfs_blastp_concat.tsv"
    default_target: True

include: "rules/star.smk"
include: "rules/stringtie.smk"
include: "rules/transdecoder.smk"
